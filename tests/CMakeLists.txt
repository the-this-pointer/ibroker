#
# Locate test sources
#
FILE (GLOB_RECURSE test_SRCS RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_SOURCE_DIR}/*.cpp)

#
# Test build rules
#
IF (NOT CMAKE_CROSSCOMPILING)
	FOREACH (T_FILE ${test_SRCS})
		GET_FILENAME_COMPONENT (T_NAME ${T_FILE} NAME_WE)
		ADD_EXECUTABLE (${T_NAME} ${T_FILE})
		ADD_TEST (${T_NAME} ${T_NAME})
	ENDFOREACH (T_FILE ${test_SRCS})
ENDIF (NOT CMAKE_CROSSCOMPILING)